@model IEnumerable<ARS.Models.City>

@{
    ViewBag.Title = "Cities List";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<h2>@ViewBag.Title</h2>

<table id="example1" class="display">
    <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Name</th>
            <th scope="col">Lattitude</th>
            <th scope="col">Longtitude</th>
            <th hidden></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
        <tr>
            <td style="text-align: center">
                @Html.DisplayFor(modelItem => item.id)
            </td>
            <td style="text-align: center">
                @Html.DisplayFor(modelItem => item.name)
            </td>
            <td style="text-align: center">
                @Html.DisplayFor(modelItem => item.lattitude)
            </td>
            <td style="text-align: center">
                @Html.DisplayFor(modelItem => item.longtitude)
            </td>
        </tr>
        }
    </tbody>

</table>

@section scripts {

    <script>
        $(document).ready(function () {
            $('#example1').DataTable({
                "pagingType": "full_numbers"
            });
        });
        // Get the modal
        var modal = document.getElementById("myModal");

        // Get the button that opens the modal
        var btn = document.getElementsByClassName("myBtn");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks on the button, open the modal
        $(".myBtn").on("click", function () {
            modal.style.display = "block";
            $("#id").text($(this).data("id"));
            $("#fullName").text($(this).data("plane-code"));
            $("#userName").text($(this).data("from"));
            $("#age").text($(this).data("to"));
            $("#sex").text($(this).data("departure-date"));
            $("#email").text($(this).data("arrival-date"));
            $("#address").text($(this).data("flytime"));
            $("#phoneNumber").text($(this).data("price"));
            $("#skyMiles").text($(this).data("distance"));
            $("#identityCode").text($(this).data("havestop"));
        })

        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>
}